// @ts-nocheck
function debounce(e,t){var n;return function(){var r=this,a=arguments;clearTimeout(n),n=setTimeout((function(){n=null,e.apply(r,a)}),t)}}function makeTeaser(e,t){var n=t.map((function(e){return elasticlunr.stemmer(e.toLowerCase())})),r=!1,a=0,o=[],l=e.toLowerCase().split(". ");for(var i in l){var s=l[i].split(" "),c=8;for(var d in s){if((v=s[d]).length>0){for(var u in n)elasticlunr.stemmer(v).startsWith(n[u])&&(c=40,r=!0);o.push([v,c,a]),c=2}a+=v.length,a+=1}a+=1}if(0===o.length)return e;var m=[],g=Math.min(o.length,10),p=0;for(i=0;i<g;i++)p+=o[i][1];m.push(p);for(i=0;i<o.length-g;i++)p-=o[i][1],p+=o[i+g][1],m.push(p);var h=0;if(r){var f=0;for(i=m.length-1;i>=0;i--)m[i]>f&&(f=m[i],h=i)}var y=[],b=o[h][2];for(i=h;i<h+g;i++){var v;b<(v=o[i])[2]&&(y.push(e.substring(b,v[2])),b=v[2]),40===v[1]&&y.push("<b>"),b=v[2]+v[0].length,y.push(e.substring(v[2],b)),40===v[1]&&y.push("</b>")}return y.push("â€¦"),y.join("")}function formatSearchResultItem(e,t){return`<article class='box'><h1 class='title'><a class='link' class='link' href='${e.ref}'>${e.doc.title}</a></h1><div class='content mt-2'>${makeTeaser(e.doc.body,t)}<a href='${e.ref}'>Weiterlesen <span class="icon is-small"><i class="fas fa-arrow-right fa-xs"></i></span></a></div></article>`}function search(){var e=document.getElementById("search"),t=document.querySelector(".search-results"),n=document.querySelector(".search-results__items"),r={bool:"AND",fields:{title:{boost:2},body:{boost:1}}},a="",o=elasticlunr.Index.load(window.searchIndex);e.addEventListener("keyup",debounce((function(){var l=e.value.trim();if(l!==a&&o&&(t.style.display=""===l?"none":"block",n.innerHTML="",""!==l)){var i=o.search(l,r);if(0!==i.length){a=l;for(var s=0;s<Math.min(i.length,10);s++){var c=document.createElement("div");c.classList.add("mb-4"),c.innerHTML=formatSearchResultItem(i[s],l.split(" ")),n.appendChild(c)}}else t.style.display="none"}}),150))}function documentReadyCallback(){"dark"===localStorage.getItem("theme")&&(document.body.setAttribute("theme","dark"),document.querySelectorAll("img, picture, video, pre, .sl-image").forEach((e=>e.setAttribute("theme","dark"))),document.querySelectorAll(".vimeo, .youtube, .chart").forEach((e=>e.setAttribute("theme","dark")))),document.querySelector(".navbar-burger").addEventListener("click",(()=>{document.querySelector(".navbar-burger").classList.toggle("is-active"),document.querySelector(".navbar-menu").classList.toggle("is-active")})),document.querySelectorAll("div.navbar-end > .navbar-item").forEach((e=>{location.href.includes(e.getAttribute("href"))&&(document.querySelectorAll("a.navbar-item.is-active").forEach((e=>e.classList.remove("is-active"))),e.classList.add("is-active"))})),document.getElementById("nav-search").addEventListener("click",(e=>{document.querySelector("html").classList.add("is-clipped"),document.getElementById("search-modal").classList.add("is-active"),document.getElementById("search").focus(),document.getElementById("search").select()})),document.querySelector(".modal-close").addEventListener("click",(e=>{document.querySelector("html").classList.remove("is-clipped"),e.currentTarget.parentElement.classList.remove("is-active")})),document.querySelector(".modal-background").addEventListener("click",(e=>{document.querySelector("html").classList.remove("is-clipped"),e.currentTarget.parentElement.classList.remove("is-active")})),document.getElementById("search").addEventListener("keyup",(()=>{search()})),"undefined"!=typeof mermaid&&mermaid.initialize({startOnLoad:!0}),"undefined"!=typeof chartXkcd&&document.querySelectorAll(".chart").forEach(((e,t)=>{e.setAttribute("id",`chart-${t}`);let n=document.getElementById(`chart-${t}`),{type:r,...a}=JSON.parse(e.textContent);new chartXkcd[r](n,a)})),"undefined"!=typeof Galleria&&document.querySelectorAll(".galleria").forEach(((e,t)=>{e.setAttribute("id",`galleria-${t}`);let{images:n}=JSON.parse(e.textContent);for(let t of n)e.insertAdjacentHTML("beforeend",`<a href="${t.src}"><img src="${t.src}" data-title="${t.title}" data-description="${t.description}"></a>`);Galleria.run(".galleria")})),"undefined"!=typeof mapboxgl&&document.querySelectorAll(".map").forEach(((e,t)=>{e.setAttribute("id",`map-${t}`),mapboxgl.accessToken=e.querySelector(".mapbox-access-token").textContent.trim();let n=e.querySelector(".mapbox-zoom").textContent.trim(),r=new mapboxgl.Map({container:`map-${t}`,style:"mapbox://styles/mapbox/streets-v10",center:[-96,37.8],zoom:n});r.addControl(new mapboxgl.NavigationControl);let a=JSON.parse(e.querySelector(".mapbox-geojson").textContent.trim());const o=[0,0];a.features.forEach((function(e){o[0]+=e.geometry.coordinates[0],o[1]+=e.geometry.coordinates[1],new mapboxgl.Marker({color:"#62b32e"}).setLngLat(e.geometry.coordinates).setPopup(new mapboxgl.Popup({offset:25}).setHTML("<h3>"+e.properties.title+"</h3><p>"+e.properties.description+"</p>")).addTo(r)})),o[0]=o[0]/a.features.length,o[1]=o[1]/a.features.length,r.setCenter(o)})),"undefined"!=typeof renderMathInElement&&renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})}HTMLCollection.prototype.forEach=Array.prototype.forEach,NodeList.prototype.forEach=Array.prototype.forEach,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",documentReadyCallback):documentReadyCallback();var lightbox=new SimpleLightbox(".gallery a",{});function pieanimation(e,t,n){let r=e/e;r*=100,console.log(r);let a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("viewBox","0 0 36 36");let o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("x","50%"),o.setAttribute("y","60%"),o.setAttribute("text-anchor","middle"),o.setAttribute("font-size","12"),o.setAttribute("fill","#000"),o.textContent=e,a.appendChild(o),a.setAttribute("class","circular-chart");let l=document.createElementNS("http://www.w3.org/2000/svg","path");l.setAttribute("class",n),l.setAttribute("stroke-dasharray",+r+", 100"),l.setAttribute("d","M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"),a.appendChild(l),document.getElementById(t).innerHTML="",document.getElementById(t).appendChild(a)}function getarticles(){pieanimation(2,"piechart1","circle"),pieanimation(607,"piechart2","circle1"),pieanimation(62,"piechart3","circle2")}function getcategories(){fetch("/categories/").then((e=>e.text())).then((e=>{let t=e.split('class="mr-4"').length;console.log(e.split('class="mr-4"').length);for(let e=0;e<t;e++)setTimeout((function(){document.getElementById("categoriesnumber").innerText=e}),200*e)}))}function gettags(){fetch("/tags/").then((e=>e.text())).then((e=>{let t=e.split('class="mr-4"').length;console.log(e.split('class="mr-4"').length);for(let e=0;e<t;e++)setTimeout((function(){document.getElementById("tagsnumber").innerText=e}),100*e)}))}const jadeScale=document.querySelectorAll("#tagsnumber");var gotcatgories=0,jadeScaleObserver=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&1!=gotcatgories&&(gettags(),getcategories(),gotcatgories=1)}))}));jadeScale.forEach((function(e){jadeScaleObserver.observe(e)}));const pieanim=document.querySelectorAll("#piechart1"),options={rootMargin:"0px"};var gotarticles=0,pieanimObserver=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&1!=gotarticles&&(getarticles(),gotarticles=1)}))}),options);pieanim.forEach((function(e){pieanimObserver.observe(e)})),document.getElementById("teaser")&&setInterval((function(){const e=document.getElementById("teaser").innerHTML;document.getElementById("teaser").innerHTML=e}),25e3);let notifications=document.getElementsByClassName("notify");function start(){document.getElementsByClassName("container").forEach((e=>{e.style.display="block"})),document.getElementsByClassName("footer")[0].style.display="block",document.getElementsByTagName("article").forEach((e=>{e.style.display="block"})),document.getElementsByClassName("pagination")[0].style.display="flex",document.getElementsByClassName("lowhigh")[0].style.display="block"}function checkUrl(){let e=window.location.href.split("/"),t=e[e.length-2];console.log(t),"jugendsozialarbeit-an-schulen"==t&&(document.getElementById("jugendsozialarbeit").style.display="block")}console.log(notifications),notifications.forEach((e=>{let t=new Date(e.getAttribute("data-date")).getTime();console.log(t);let n=(new Date).getTime();console.log(n),n<t&&(e.style.display="block")})),setTimeout((function(){start()}),800),setTimeout((function(){checkUrl()}),10);